<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Oversubscription Estimator *ScopedLabs</title>
  <meta name="description" content="Estimate oversubscription at access/aggregation/uplink layers and flag congestion risk." />

  <link rel="stylesheet" href="/assets/style.css?v=net-oversub-003" />
  <script src="/assets/app.js?v=net-oversub-003" defer></script>
</head>

<body data-protected="true" data-tier="pro">
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="/">
        <span class="brand-mark" aria-hidden="true"></span>
        <span class="brand-name">ScopedLabs</span>
      </a>

      <nav class="nav">
        <a class="nav-link" href="/">Home</a>
        <a class="nav-link" href="/tools/" aria-current="page">Tools</a>
        <a class="nav-link" href="/about/">About</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="crumbs">
      <a href="/tools/">Tools</a>
      <span class="sep">/</span>
      <a href="/tools/network/">Network &amp; Throughput</a>
      <span class="sep">/</span>
      <span>Oversubscription Estimator</span>
    </div>

    <section class="page-head">
      <h1 class="h1">Oversubscription Estimator</h1>
      <p class="subhead">
        Estimate contention risk by comparing edge capacity to uplink capacity across layers.
      </p>
    </section>

    <section class="card">
      <p class="muted">
        Oversubscription is not automatically Ã¢â‚¬Å“badÃ¢â‚¬Â Ã¢â‚¬â€ it becomes bad when your expected peak traffic
        canÃ¢â‚¬â„¢t fit inside the uplink with headroom. This tool estimates oversub at each layer using explicit inputs.
      </p>
    </section>

    <!-- =========================
         LOCKED GATE
         ========================= -->
    <section id="lockedCard" class="card tool-card">
      <div class="pill-row">
        <span class="pill pill--pro">Pro / Advanced</span>
      </div>

      <h2 class="h2">Ã°Å¸â€â€™ Locked</h2>
      <p class="muted">This tool is included with Pro access for the Network &amp; Throughput category.</p>

      <p class="muted"><strong>What this models</strong></p>
      <ul class="muted">
        <li>Access layer: edge ports vs uplink</li>
        <li>Aggregation layer: downstream vs upstream</li>
        <li>Core / WAN: aggregate demand vs transport</li>
        <li>Peak-demand risk bands (not just Ã¢â‚¬Å“ratio pornÃ¢â‚¬Â)</li>
      </ul>

      <div class="actions">
        <a class="btn" href="/tools/network/">Back to Network &amp; Throughput</a>
        <a class="btn btn-primary" href="/upgrade/">Unlock Pro for Network &amp; Throughput</a>
      </div>

      <div class="muted" style="font-size:.85rem; margin-top:.85rem; opacity:.85;">
        Dev unlock: add <code>?pro=1</code> to the URL.
      </div>
    </section>

    <!-- =========================
         UNLOCKED TOOL
         ========================= -->
    <section id="toolCard" class="card tool-card" style="display:none;">
      <div class="pill-row">
        <span class="pill pill--pro">Pro / Advanced</span>
      </div>

      <h2 class="h2">Oversubscription Estimator</h2>
      <p class="muted">
        Calculates oversub ratios and flags congestion risk using peak-demand assumptions.
      </p>

      <div class="spacer-md"></div>

      <div class="card" style="background:rgba(0,0,0,.16);">
        <div class="muted"><strong>Layer inputs</strong></div>

        <div class="form-grid" style="margin-top:.75rem;">
          <div class="field">
            <div class="label-row">
              <label for="edgeDownMbps">Edge/downstream capacity (Mbps)</label>
              <button type="button" class="hint"
                data-title="Edge/downstream capacity"
                data-help="Total potential demand feeding into the uplink at this layer. Example: 24 x 100Mbps endpoints = 2400Mbps (theoretical)."
                aria-label="Help: Edge capacity">?</button>
            </div>
            <input id="edgeDownMbps" type="number" min="0" step="1" value="2400" />
          </div>

          <div class="field">
            <div class="label-row">
              <label for="edgeUpMbps">Uplink capacity (Mbps)</label>
              <button type="button" class="hint"
                data-title="Uplink capacity"
                data-help="The line rate available leaving this layer. Use the effective aggregate if LACP is used."
                aria-label="Help: Uplink capacity">?</button>
            </div>
            <input id="edgeUpMbps" type="number" min="0" step="1" value="1000" />
          </div>

          <div class="field">
            <div class="label-row">
              <label for="aggDownMbps">Aggregation downstream (Mbps)</label>
              <button type="button" class="hint"
                data-title="Aggregation downstream"
                data-help="Total potential demand entering the aggregation layer from access switches."
                aria-label="Help: Aggregation downstream">?</button>
            </div>
            <input id="aggDownMbps" type="number" min="0" step="1" value="8000" />
          </div>

          <div class="field">
            <div class="label-row">
              <label for="aggUpMbps">Aggregation upstream (Mbps)</label>
              <button type="button" class="hint"
                data-title="Aggregation upstream"
                data-help="Uplink leaving aggregation toward core/WAN."
                aria-label="Help: Aggregation upstream">?</button>
            </div>
            <input id="aggUpMbps" type="number" min="0" step="1" value="2000" />
          </div>

          <div class="field">
            <div class="label-row">
              <label for="coreDemandMbps">Core/WAN expected peak demand (Mbps)</label>
              <button type="button" class="hint"
                data-title="Core/WAN peak demand"
                data-help="Expected peak traffic that must cross the WAN/core boundary (not theoretical port sums). Use your Bandwidth Planner peak result if available."
                aria-label="Help: Core demand">?</button>
            </div>
            <input id="coreDemandMbps" type="number" min="0" step="1" value="1200" />
          </div>

          <div class="field">
            <div class="label-row">
              <label for="wanMbps">WAN/core transport capacity (Mbps)</label>
              <button type="button" class="hint"
                data-title="WAN/core capacity"
                data-help="Actual usable WAN/core bandwidth available for this traffic (after ISP shaping/QoS if applicable)."
                aria-label="Help: WAN capacity">?</button>
            </div>
            <input id="wanMbps" type="number" min="0" step="1" value="1000" />
          </div>
        </div>

        <hr class="divider" style="margin:1.1rem 0;" />

        <div class="muted"><strong>Risk assumptions</strong></div>

        <div class="form-grid" style="margin-top:.75rem;">
          <div class="field">
            <div class="label-row">
              <label for="overheadPct">Overhead reserve (%)</label>
              <button type="button" class="hint"
                data-title="Overhead reserve"
                data-help="Reserves headroom for retransmits/bursts/queueing and non-modeled overhead. Typical planning: 10Ã¢â‚¬â€œ25%."
                aria-label="Help: Overhead reserve">?</button>
            </div>
            <input id="overheadPct" type="number" min="0" step="1" value="15" />
          </div>

          <div class="field">
            <div class="label-row">
              <label for="targetUtilPct">Target peak utilization (%)</label>
              <button type="button" class="hint"
                data-title="Target peak utilization"
                data-help="Preferred peak utilization band for stability. 60Ã¢â‚¬â€œ75% preferred, 75Ã¢â‚¬â€œ85% tight, 85%+ risky."
                aria-label="Help: Target utilization">?</button>
            </div>
            <input id="targetUtilPct" type="number" min="10" max="95" step="1" value="70" />
          </div>
        </div>

        <div class="actions" style="margin-top:1rem;">
          <button id="calc" class="btn btn-primary" type="button">Calculate</button>
          <button id="reset" class="btn" type="button">Reset</button>
          <a class="btn" href="/tools/network/">Back to Network &amp; Throughput</a>
        </div>

        <p class="tip" style="margin-top:1rem;">
          Tip: High oversub ratios can be fine for office networks Ã¢â‚¬â€ but video and real-time workloads behave badly under peak congestion.
        </p>
      </div>

      <div class="spacer-md"></div>

      <div id="out" class="card" style="background:rgba(0,0,0,.14);">
        <div class="muted">Run the estimator to see oversub ratios and peak-risk flags.</div>
      </div>
    </section>

    <footer class="site-footer">
      <div class="muted">Ã‚Â© <span data-year></span> ScopedLabs</div>
    </footer>
  </main>

  <script>
    (function () {
      const y = document.querySelector("[data-year]");
      if (y) y.textContent = new Date().getFullYear();

      // Global dev unlock: ?pro=1
      const params = new URLSearchParams(location.search);
      const unlocked = params.get("pro") === "1";

      const locked = document.getElementById("lockedCard");
      const tool = document.getElementById("toolCard");
      if (unlocked) {
        locked.style.display = "none";
        tool.style.display = "";
      }

      const $ = (id) => document.getElementById(id);
      const num = (id) => {
        const v = Number($(id).value);
        return Number.isFinite(v) ? v : 0;
      };
      const clamp = (v,min,max)=>Math.max(min,Math.min(max,v));
      const fmt = (v,d=0)=>Number.isFinite(v)?v.toFixed(d):"Ã¢â‚¬â€";

      function ratio(down, up) {
        if (up <= 0) return Infinity;
        return down / up;
      }

      function riskLabel(utilPct, targetPct) {
        if (utilPct <= targetPct) return "Ã¢Å“â€¦ Within target peak utilization band";
        if (utilPct <= 85) return "Ã¢Å¡Â  Above target Ã¢â‚¬â€ tight uplink";
        if (utilPct <= 95) return "Ã¢Å¡Â  High risk Ã¢â‚¬â€ congestion likely under peak";
        return "Ã¢â€ºâ€ Redline Ã¢â‚¬â€ saturation risk";
      }

      function calc() {
        const overheadPct = clamp(num("overheadPct"), 0, 60);
        const overheadMult = 1 + overheadPct / 100;
        const targetUtilPct = clamp(num("targetUtilPct"), 10, 95);

        // Layer values
        const edgeDown = Math.max(0, num("edgeDownMbps")) * overheadMult;
        const edgeUp = Math.max(0.0001, num("edgeUpMbps"));

        const aggDown = Math.max(0, num("aggDownMbps")) * overheadMult;
        const aggUp = Math.max(0.0001, num("aggUpMbps"));

        const coreDemand = Math.max(0, num("coreDemandMbps")) * overheadMult;
        const wan = Math.max(0.0001, num("wanMbps"));

        const edgeRatio = ratio(edgeDown, edgeUp);
        const aggRatio = ratio(aggDown, aggUp);
        const coreRatio = ratio(coreDemand, wan);

        const edgeUtil = (edgeDown / edgeUp) * 100;
        const aggUtil = (aggDown / aggUp) * 100;
        const coreUtil = (coreDemand / wan) * 100;

        const safeEdgeCap = edgeUp * (targetUtilPct / 100);
        const safeAggCap = aggUp * (targetUtilPct / 100);
        const safeCoreCap = wan * (targetUtilPct / 100);

        const edgeHeadroom = safeEdgeCap - edgeDown;
        const aggHeadroom = safeAggCap - aggDown;
        const coreHeadroom = safeCoreCap - coreDemand;

        const out = $("out");
        out.innerHTML = `
          <div style="display:flex; flex-wrap:wrap; gap:.6rem; align-items:center;">
            <span class="pill">Overhead: +${fmt(overheadPct,0)}%</span>
            <span class="pill">Target peak util: ${fmt(targetUtilPct,0)}%</span>
          </div>

          <div class="spacer-md"></div>

          <div class="card" style="background:rgba(0,0,0,.12);">
            <div class="muted" style="line-height:1.65;">
              <div><strong>Access layer</strong></div>
              <div>Oversub ratio: <strong>${fmt(edgeRatio,2)} : 1</strong></div>
              <div>Peak utilization: <strong>${fmt(edgeUtil,1)}%</strong> Ã¢â‚¬â€ ${riskLabel(edgeUtil, targetUtilPct)}</div>
              <div>Headroom at target band: <strong>${fmt(edgeHeadroom,1)} Mbps</strong></div>
            </div>
          </div>

          <div class="spacer-md"></div>

          <div class="card" style="background:rgba(0,0,0,.12);">
            <div class="muted" style="line-height:1.65;">
              <div><strong>Aggregation layer</strong></div>
              <div>Oversub ratio: <strong>${fmt(aggRatio,2)} : 1</strong></div>
              <div>Peak utilization: <strong>${fmt(aggUtil,1)}%</strong> Ã¢â‚¬â€ ${riskLabel(aggUtil, targetUtilPct)}</div>
              <div>Headroom at target band: <strong>${fmt(aggHeadroom,1)} Mbps</strong></div>
            </div>
          </div>

          <div class="spacer-md"></div>

          <div class="card" style="background:rgba(0,0,0,.12);">
            <div class="muted" style="line-height:1.65;">
              <div><strong>Core / WAN boundary</strong></div>
              <div>Demand-to-transport ratio: <strong>${fmt(coreRatio,2)} : 1</strong></div>
              <div>Peak utilization: <strong>${fmt(coreUtil,1)}%</strong> Ã¢â‚¬â€ ${riskLabel(coreUtil, targetUtilPct)}</div>
              <div>Headroom at target band: <strong>${fmt(coreHeadroom,1)} Mbps</strong></div>
            </div>
          </div>

          <div class="spacer-md"></div>

          <div class="muted" style="font-size:.95rem; line-height:1.55;">
            Notes:
            <ul class="muted" style="margin:.4rem 0 0 1.15rem;">
              <li>Oversub ratio alone isnÃ¢â‚¬â„¢t the truth Ã¢â‚¬â€ the risk is whether <strong>peak demand</strong> fits within uplink capacity with headroom.</li>
              <li>For video and real-time traffic, keep peak utilization conservative to avoid queueing delay and drops.</li>
              <li>If you already computed peak demand in Bandwidth Planner, use that value in the Core/WAN demand field.</li>
            </ul>
          </div>
        `;
      }

      function reset() {
        $("edgeDownMbps").value = "2400";
        $("edgeUpMbps").value = "1000";
        $("aggDownMbps").value = "8000";
        $("aggUpMbps").value = "2000";
        $("coreDemandMbps").value = "1200";
        $("wanMbps").value = "1000";
        $("overheadPct").value = "15";
        $("targetUtilPct").value = "70";

        $("out").innerHTML = '<div class="muted">Run the estimator to see oversub ratios and peak-risk flags.</div>';
      }

      $("calc").addEventListener("click", calc);
      $("reset").addEventListener("click", reset);

      // Enter-to-calc (speed)
      document.addEventListener("keydown", function(e){
        if (e.key === "Enter") {
          const t = e.target;
          if (t && (t.tagName === "INPUT" || t.tagName === "SELECT")) {
            e.preventDefault();
            calc();
          }
        }
      });
    })();
  </script>
<script src="/assets/pro.js?v=0207"></script>
</body>
</html>



